box: python:2.7-slim
dev:
  steps:
    - pip-install
    - internal/watch:
        code: python app.py
        reload: true
build:
  steps:
    - script:
        name: copy wercker cache to pip cache dir
        code: cp -R $WERCKER_CACHE_DIR ~/.cache/pip
    - pip-install
    - script:
        name: ls -lah ~/.cache/pip
        code: ls -lah ~/.cache/pip
    - script:
        name: copy wercker cache to pip cache dir
        code: cp -R $WERCKER_CACHE_DIR ~/.cache/pip
    - script:
        name: env
        code: env
    - script:
        name: python unit test
        code : |
          python app_test.py
